---
title: Architecture
description: Here is the complete architecture of a Zap.ts application compared to a traditional Next.js application.
---
# Overview

Zap.ts architecture is designed to be modular, scalable, and easy to maintain. It leverages the power of TypeScript and modern web development practices to provide a robust foundation for building applications.

Since Zap.ts is built on top of [Next.js](https://nextjs.org/), it inherits all the features and benefits of the Next.js framework while introducing its own conventions and best practices.

Below, we will compare the architecture of a Zap.ts application with that of a traditional Next.js application.

## Architecture Comparison

WIP

## Dependencies Comparison

WIP

## Modified

These files/folders depending on your Next.js configuration (choice of linter, etc) can already be present in your project, but we modified them to fit the Zap.ts architecture and philosophy.

- `biome.json`: Configuration file for [Biome](https://biomejs.dev/), a linter and code formatter. We're using [Ultracite](https://ultracite.ai/) preset for better collaborations between AI and developers.
- `next.config.ts`: Configuration file for [Next.js](https://nextjs.org/) with additional settings for [CSP (Content Security Policy)](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP), [Permissions Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy), defining [Typed Routes](https://nextjs.org/docs/app/api-reference/config/next-config-js/typedRoutes) by default, additional [security headers](https://nextjs.org/docs/app/api-reference/config/next-config-js/headers), configuration for [sw.js](https://nextjs.org/docs/app/guides/progressive-web-apps#5-creating-a-service-worker), [MDX](https://nextjs.org/docs/app/guides/mdx) and [Bundle Analyzer](https://nextjs.org/docs/app/getting-started/linking-and-navigating#hydration-not-completed).
- `package.json`: Configuration file for [npm](https://www.npmjs.com/) with additional scripts for [Biome](https://biomejs.dev/), [Drizzle ORM](https://orm.drizzle.team/), [Next.js](https://nextjs.org/), [React Email](https://react.email/) and more. Also includes `lint-staged` configuration with [Ultracite](https://ultracite.ai/) preset. Finally, it adds dependencies to support Zap.ts architecture.
- `public/`: Removed [Vercel](https://vercel.com/) default files and added `sw.js` for [PWA (Progressive Web App)](https://nextjs.org/docs/app/guides/progressive-web-apps) support with [push notification](https://developer.mozilla.org/en-US/docs/Web/API/Push_API) events and [Geist](https://vercel.com/font) font for [Open Graph](https://og-image.vercel.app/) images. Also added standard files for a better [SEO (Search Engine Optimization)](https://developers.google.com/search/docs/fundamentals/seo-starter-guide).
- `src/app/favicon.ico`: Replaced default [Next.js](https://nextjs.org/) favicon with Zap.ts favicon.
- `src/app/globals.css`: Replaced default [Next.js](https://nextjs.org/) global styles by integrating [shadcn/ui](https://ui.shadcn.com/) styles by default and adding custom global styles.
- `src/app/layout.tsx`: Replaced default [Next.js](https://nextjs.org/) layout with a custom layout in Zap.ts with [shadcn/ui](https://ui.shadcn.com/) integration, [Geist](https://vercel.com/font) font, additional metadata for better [SEO (Search Engine Optimization)](https://developers.google.com/search/docs/fundamentals/seo-starter-guide), custom providers injection and [Vercel](https://vercel.com/) analytics support depending on the environment.

## Additions

These files/folders are not typically present in a standard Next.js project, but we added them to enhance the Zap.ts architecture and philosophy.

- `.cursor/`: Contains [MCP (Model Context Protocol)](https://modelcontextprotocol.io/) that allows LLMs in [Cursor](https://cursor.com/) to get more context with external services such as [Supabase](https://supabase.com/), [PostHog](https://posthog.com/), and more.
- `.cursorignore`: Similar to `.gitignore`, this file specifies which files and directories should be ignored by [Cursor](https://cursor.com/).
- `.dockerignore`: Similar to `.gitignore`, this file specifies which files and directories should be ignored by [Docker](https://www.docker.com/).
- `.github/`: Contains [GitHub](https://github.com/) specific files such as workflows for CI/CD, instructions for [Copilot](https://github.com/features/copilot).
- `.gitignore`: Specifies which files and directories should be ignored by [Git](https://git-scm.com/).
- `.npmrc`: Configuration file for [npm](https://www.npmjs.com/).
- `.vscode/`: Contains [Visual Studio Code](https://code.visualstudio.com/) specific settings and configurations such as [MCP (Model Context Protocol)](https://modelcontextprotocol.io/), debugging configurations, and more.
- `.windsurf/`: Contains [Windsurf](https://windsurf.com/) specific settings and configurations such as [MCP (Model Context Protocol)](https://modelcontextprotocol.io/).
- `Dockerfile.*`: Contains the instructions for building a Docker image for the application following [Next.js Docker best practices](https://github.com/vercel/next.js/tree/canary/examples/with-docker) in production or provisioning a [PostgreSQL](https://www.postgresql.org/) database in development.
- `docker-compose.yml`: Configuration file for [Docker Compose](https://docs.docker.com/compose/) to define and run multi-container Docker applications (such as Zap.ts and PostgreSQL).
- `components.json`: Configuration file for [shadcn/ui](https://ui.shadcn.com/), a set of accessible and customizable React components.
- `drizzle.config.*.ts`: Configuration files for [Drizzle ORM](https://orm.drizzle.team/), an ORM for TypeScript and JavaScript with separate config for development and production environments.
- `emails/`: Contains email templates and allows for easy customization and management of email content through a mail server using [React Email](https://react.email/).
- `next-sitemap.config.js`: Configuration file for [next-sitemap](https://github.com/iamvishnusankar/next-sitemap), a sitemap generation tool for Next.js applications.
- `src/app/apple-icon.png`: Added Apple Touch Icon for better [SEO (Search Engine Optimization)](https://developers.google.com/search/docs/fundamentals/seo-starter-guide).
- `src/app/fonts.ts`: Configuration file for [Geist](https://vercel.com/font) font to be used in the application.
- `src/app/global-error.tsx`: Global error handling component for the application with a sophisticated error messages management.
- `src/app/icon.png`: Added standard icon for better [SEO (Search Engine Optimization)](https://developers.google.com/search/docs/fundamentals/seo-starter-guide).
- `src/app/manifest.ts`: Configuration file for the [Web App Manifest](https://developer.mozilla.org/en-US/docs/Web/Manifest) to provide metadata for the application when installed on a device or added to the home screen as a [PWA (Progressive Web App)](https://web.dev/progressive-web-apps/).
- `src/app/not-found.tsx`: Beautiful custom 404 page for handling "Not Found" errors in the application.
- `src/app/opengraph-image/route.tsx`: Dynamic Open Graph image generation route using [OG Image](https://og-image.vercel.app/) to create social media preview images on the fly.
- `src/instrumentation.edge.ts`: Instrumentation for the Edge runtime environment.
- `src/instrumentation.node.ts`: Instrumentation for the Node.js runtime environment.
- `src/instrumentation.ts`: Shared instrumentation code for both Edge and Node.js environments, following [Next.js instrumentation guidelines](https://nextjs.org/docs/app/guides/instrumentation#importing-runtime-specific-code).

### Pages

- `src/app/(protected)/app/(sidebar)/account/page.tsx`: Account page for user account management. (WIP)
- `src/app/(protected)/app/(sidebar)/layout.tsx`: Layout component for the sidebar.
- `src/app/(protected)/app/(sidebar)/notifications/page.tsx`: Notifications page for user notifications. (WIP)
- `src/app/(protected)/app/(sidebar)/page.tsx`: Main application page with a dashboard skeleton. (WIP)
- `src/app/(protected)/app/(sidebar)/settings/page.tsx`: Settings page for user preferences. (WIP)
- `src/app/(protected)/app/billing/page.tsx`: Billing page for user billing information.
- `src/app/(protected)/app/billing/success/page.tsx`: Billing success page for user billing information.
- `src/app/(public)/(auth)/forgot-password/page.tsx`: Forgot password page for users to reset their password.
- `src/app/(public)/(auth)/login/page.tsx`: Login page for user authentication
- `src/app/(public)/(auth)/mail-verified/page.tsx`: Mail verified page for users to confirm their email address.
- `src/app/(public)/(auth)/register/page.tsx`: Register page for user registration.
- `src/app/(public)/(auth)/reset-password/page.tsx`: Reset password page for users to reset their password.
- `src/app/(public)/(legal)/cookie-policy/page.tsx`: Cookie policy page for legal information.
- `src/app/(public)/(legal)/layout.tsx`: Layout component for legal pages.
- `src/app/(public)/(legal)/privacy-policy/page.tsx`: Privacy policy page for legal information.
- `src/app/(public)/(legal)/terms-of-service/page.tsx`: Terms of service page for legal information.
- `src/app/(public)/blog/[slug]/page.tsx`: Blog post page for individual blog posts.
- `src/app/(public)/blog/layout.tsx`: Layout component for blog pages.
- `src/app/(public)/blog/page.tsx`: Blog landing page for all blog posts.
- `src/app/(public)/page.tsx`: Public landing page for the application.
- `src/app/(public)/waitlist/page.tsx`: Waitlist page for users to join the waitlist.

### Routes

- `src/app/api/auth/[...all]/route.ts`: Authentication API route for handling all auth-related requests with [Better Auth](https://better-auth.com).
- `src/app/rpc/[[...rest]]/route.ts`: RPC API route for handling all RPC-related requests with [oRPC](https://orpc.unnoq.com).

### Components

- `src/components/ui/*`: Various UI components from [shadcn/ui](https://ui.shadcn.com/) such as `Alert`, `Avatar`, `Badge`, `Button`, `Card`, `Checkbox`, `Collapsible`, `Command`, `Dialog`, `Dropdown Menu`, `Form`, `Hover Card`, `Input`, `Label`, `Link`, `List Box`, `Menubar`, `Navigation Menu`, `Popover`, `Progress`, `Radio Group`, `Scroll Area`, `Select`, `Separator`, `Sheet`, `Skeleton`, `Slider`, `Switch`, `Tabs`, `Textarea`, and more. Note that [Ultracite](https://ultracite.ai/) ignores this directory to keep original code.

### Hooks

- `src/hooks/use-mobile.ts`: Custom hook for detecting mobile devices and handling mobile-specific logic. This is needed by [shadcn/ui](https://ui.shadcn.com/).
- `src/hooks/utils/use-body-scroll-lock.ts`: Custom hook for managing body scroll locking in modals and other components.
- `src/hooks/utils/use-cooldown.ts`: Custom hook for implementing cooldowns on actions (e.g., mail ratelimits).

## Deletions

### Pages

- `src/app/page.tsx`: Default [Next.js](https://nextjs.org/) homepage, replaced by a custom homepage in Zap.ts.